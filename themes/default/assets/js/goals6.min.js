$(function () {
        
    Highcharts.setOptions({
        global: {
            useUTC: false
        },
        lang: {
            thousandsSep: ','
        }
     });
     
    var seriesData = [];
    var seriesCategory = [];
    var baseColor = '';

    /**
     * Create the chart when all data is loaded
     * @returns {undefined}
     */
    function createChart6() {

        var formElement = document.querySelector(".form-filter-indicators");
        var form = new FormData(formElement);

        $.ajax({
            url: SITEURL + "/indicators/getChartPlacement",
            async: false,
            dataType: 'json',
            type: 'POST',
            data: form,
            processData: false,
            contentType: false,
            success: function (result) {
                
                //if (result.status == "success") {                    
                seriesData = result.data;
                seriesCategory = result.category;
                //baseColor = result.color;
                //}
            }
        });
        
        Highcharts.chart('canvas6', {

            chart: {
//                polar: true,
                type: 'line'
            },

            title: {
                text: 'CLUSTERS ML',
            },

            pane: {
                size: '80%'
            },

            xAxis: {
                categories: ['COLOCACION', 'RECAUDO', 'GASTOS', 'INGRESOS'],
                tickmarkPlacement: 'on',
                lineWidth: 0
            },

            yAxis: {
                gridLineInterpolation: 'polygon',
                lineWidth: 0,
                min: 0
            },

            tooltip: {
                shared: true,
                pointFormat: '<span style="color:{series.color}">{series.name}: <b>${point.y:,.0f}</b><br/>'
            },

            

            series: [{
                name: 'CLUSTER A',
                 data: [430000000, 190000000, 604440040, 352300780,],
                pointPlacement: 'on'
            },{
                name: 'CLUSTER B',
               data: [507896000, 345789000, 421236000, 314758000,],
                pointPlacement: 'on'
            },{
                name: 'CLUSTER C',
                data: [201745964, 108997158, 347800208, 180487004],
                pointPlacement: 'on'
            },
//            {
//                name: 'CLUSTER D',
//                data: [0, 9000, 10000, 5000],
//                pointPlacement: 'on'
//            },
        ],

            responsive: {
                rules: [{
                    condition: {
                        maxWidth: 700
                    },
                    chartOptions: {
                        legend: {
                            align: 'center',
                            verticalAlign: 'bottom'
                        },
                        pane: {
                            size: '80%'
                        }
                    }
                }]
            }

        });
        

        setTimeout(function(){
            $('.highcharts-credits').fadeOut('slow');
        },500);
    }

    createChart6();
    
    $('body').on('change', '.form-indicators', function (e) {
        e.preventDefault();
        createChart6();
    });  
      
});


